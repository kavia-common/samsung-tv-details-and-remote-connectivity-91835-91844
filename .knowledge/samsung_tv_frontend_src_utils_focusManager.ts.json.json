{"is_source_file": true, "format": "TypeScript", "description": "A TypeScript module defining a FocusManager class that manages focus within a web UI, organizing focusable elements into groups, handling focus navigation, storing focus state in sessionStorage, and providing APIs for focus control within a TV interface context.", "external_files": [], "external_methods": [], "published": ["focusManager", "FocusManager"], "classes": [{"name": "FocusManager", "description": "A class that manages focusable elements organized into groups, allowing focus navigation, persistence, and control within a TV or web interface."}], "methods": [{"name": "register", "description": "Registers a focusable element into a specific group, maintaining order and focus state."}, {"name": "focus", "description": "Sets focus to a specific element in a group, optionally by index."}, {"name": "focusNext", "description": "Moves focus to the next element within a group, wrapping around."}, {"name": "focusPrev", "description": "Moves focus to the previous element within a group, wrapping around."}, {"name": "getCurrent", "description": "Returns the current focused group and index."}, {"name": "focusFirstInNextGroup", "description": "Focuses the first element in the next group based on ordered groups."}, {"name": "focusFirstInPrevGroup", "description": "Focuses the first element in the previous group based on ordered groups."}, {"name": "setCurrent", "description": "Explicitly sets current focus context and updates session storage."}, {"name": "clear", "description": "Clears all registered focusable elements."}], "calls": ["sessionStorage.setItem", "sessionStorage.getItem", "sessionStorage.removeItem"], "search-terms": ["FocusManager", "focusNavigation", "focusGroup", "sessionStorage", "focusControl", "TV focus", "focusable elements"], "state": 2, "file_id": 33, "knowledge_revision": 79, "git_revision": "", "ctags": [{"_type": "tag", "name": "CurrentFocus", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^type CurrentFocus = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "FocusManager", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^class FocusManager {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "FocusableEntry", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^type FocusableEntry = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "GroupId", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^type GroupId =$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "GroupState", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^type GroupState = {$/", "language": "TypeScript", "kind": "alias"}, {"_type": "tag", "name": "ORDERED_GROUPS", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^const ORDERED_GROUPS: GroupId[] = [$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^const STORAGE_KEY = 'tv_focus_state_v1';$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "el", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^      el,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "el", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^    const el = st.elements[idx]?.el;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "entry", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^    const entry: FocusableEntry = {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "existingIdx", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^    const existingIdx = st.elements.findIndex((e) => e.id === id);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "focusManager", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^const focusManager = new FocusManager();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "group", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^      group,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "groups", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^  private groups: Map<GroupId, GroupState> = new Map();$/", "language": "TypeScript", "kind": "property", "scope": "FocusManager", "scopeKind": "class"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^    const el = st.elements[idx]?.el;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^    const idx = ORDERED_GROUPS.indexOf(current);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^    const idx = typeof index === 'number' ? this.clamp(index, 0, st.elements.length - 1) : (st.l/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "index", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^          index: this.current.index,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "index", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^      index: typeof index === 'number' ? index : st.elements.length,$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "lastByGroup", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^          lastByGroup: Array.from(this.groups.entries()).reduce($/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^    const next = (st.lastFocusedIndex + 1) % st.elements.length;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^    const next = this.getAdjacentGroup(this.current.group, 'next');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^      const parsed = JSON.parse(raw);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "prev", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^    const prev = (st.lastFocusedIndex - 1 + st.elements.length) % st.elements.length;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "prev", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^    const prev = this.getAdjacentGroup(this.current.group, 'prev');$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^      const raw = sessionStorage.getItem(STORAGE_KEY);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "st", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^    const st = this.groups.get(group) || { elements: [], lastFocusedIndex: 0 };$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "st", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^    const st = this.groups.get(group);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "st", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^    const st = this.groups.get(next);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "st", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^    const st = this.groups.get(prev);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "state", "path": "/home/kavia/workspace/code-generation/samsung-tv-details-and-remote-connectivity-91835-91844/samsung_tv_frontend/src/utils/focusManager.ts", "pattern": "/^        const state = {$/", "language": "TypeScript", "kind": "constant"}], "hash": "1a6a94675bc6c3da18226e516907c2c5", "format-version": 4, "code-base-name": "samsung_tv_frontend", "filename": "samsung_tv_frontend/src/utils/focusManager.ts", "fields": [{"name": "private groups: Map<GroupId, GroupState> = new Map();", "scope": "FocusManager", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"79": ""}]}